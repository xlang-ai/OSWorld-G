{
  "name": "state",
  "introduction": [
    "# Data Grid - State\n\n<p class=\"description\">Initialize and read the state of the Data Grid.</p>"
  ],
  "code_path": [
    null
  ],
  "children": [
    {
      "name": "Initialize the state",
      "introduction": [
        "Initialize the state\n\nSome state keys can be initialized with the `initialState` prop.\nThis prop has the same format as the returned value of `apiRef.current.exportState()`.\n\n:::warning\nThe `initialState` can only be used to set the initial value of the state.\nThe Data Grid will not react if you change the `initialState` value later on.\n\nIf you need to fully control specific models, use the control props instead (for example [`prop.filterModel`](/x/react-data-grid/filtering/#controlled-filters) or [`prop.sortModel`](/x/react-data-grid/sorting/#controlled-sort-model)).\nYou can find more information on the corresponding feature documentation page.\n:::"
      ],
      "code_path": [
        "InitialState.js"
      ],
      "children": []
    },
    {
      "name": "Access the state",
      "introduction": [
        "Access the state\n\nThe state is exposed on the `apiRef` object.\n\n:::warning\nDo not access state values directly.\nThe state itself is not considered a public API and its structure can change.\n:::\n\nThe `@mui/x-data-grid-pro` package exposes a set of state selectors that take the `apiRef.current.state` as an argument and return a value.\nYou can use them to get data from the state without worrying about its internal structure."
      ],
      "code_path": [
        null
      ],
      "children": [
        {
          "name": "Direct selector access",
          "introduction": [
            "Direct selector access\n\nThe simplest way to use a selector is to call it as a function with `apiRef` as its first argument:\n\n```tsx\nconst paginationModel = gridPaginationModelSelector(apiRef);\n```\n\n:::warning\nCalling with `apiRef.current.state` also works, but may cause side effects when multiple Data Grid instances are present on a single page.\nIf you still need to call it with the state, don't forget to pass the instance ID as the example:\n\n```tsx\nconst paginationModel = gridPaginationModelSelector(\n  apiRef.current.state,\n  apiRef.current.instanceId,\n);\n```\n\n:::"
          ],
          "code_path": [
            "DirectSelector.js"
          ],
          "children": []
        },
        {
          "name": "With useGridSelector",
          "introduction": [
            "With useGridSelector\n\nIf you only need to access the state value in the render of your components, use the `useGridSelector` hook.\nThis hook ensures there is a reactive binding such that when the state changes, the component in which this hook is used is re-rendered.\n\n```tsx\nconst paginationModel = useGridSelector(apiRef, gridPaginationModelSelector);\n```\n\n:::warning\nThis hook can only be used inside the context of the Data Grid, such as within custom components.\nOtherwise, you will get an error saying that the state is not initialized during the first render.\n:::"
          ],
          "code_path": [
            "UseGridSelector.js"
          ],
          "children": []
        },
        {
          "name": "Catalog of selectors",
          "introduction": [
            "Catalog of selectors\n\nSome selectors have not yet been documented.\n\n{{\"component\": \"modules/components/SelectorsDocs.js\"}}"
          ],
          "code_path": [
            null
          ],
          "children": []
        }
      ]
    },
    {
      "name": "Save and restore the state",
      "introduction": [
        "Save and restore the state\n\nThe current state of the Data Grid can be exported using `apiRef.current.exportState()`.\nIt can then be restored by either passing the returned value to the `initialState` prop or to the `apiRef.current.restoreState()` method.\n\nWatch out for controlled models and their callbacks (`onFilterModelChange` if you use `filterModel`, for instance), as the Data Grid calls those callbacks when restoring the state.\nBut if the callback is not defined or if calling it does not update the prop value, then the restored value will not be applied."
      ],
      "code_path": [
        null
      ],
      "children": [
        {
          "name": "Restore the state with initialState",
          "introduction": [
            "Restore the state with initialState\n\nYou can pass the state returned by `apiRef.current.exportState()` to the `initialState` prop.\n\nIn the demo below, clicking on **Recreate the 2nd grid** will re-mount the second Data Grid with the current state of the first Grid.",
            ":::warning\nIf you restore the page using `initialState` before the data is fetched, the Data Grid will automatically move to the first page.\n:::"
          ],
          "code_path": [
            "RestoreStateInitialState.js",
            null
          ],
          "children": []
        },
        {
          "name": "Save and restore the state from external storage",
          "introduction": [
            "Save and restore the state from external storage\n\nYou can use `apiRef.current.exportState()` to save a snapshot of the state to an external storage (for example using local storage or redux).\nThis way the state can be persisted on refresh or navigating to another page.\n\nIn the following demo, the state is saved to `localStorage` and restored when the page is refreshed.\nThis is done by listening on the `beforeunload` event.\nWhen the component is unmounted, the `useLayoutEffect` cleanup function is being used instead."
          ],
          "code_path": [
            "SaveAndRestoreStateInitialState.js"
          ],
          "children": []
        },
        {
          "name": "Restore the state with apiRef",
          "introduction": [
            "Restore the state with apiRef\n\nYou can pass the state returned by `apiRef.current.exportState()` to the `apiRef.current.restoreState` method.\nIn the demo below, clicking on **Save current view** will create a snapshot of the changes made in the state, considering the initial state.\nYou can apply these changes on the Data Grid later selecting a saved view in the **Custom view** menu."
          ],
          "code_path": [
            "RestoreStateApiRef.js"
          ],
          "children": [
            {
              "name": "Restore part of the state",
              "introduction": [
                "Restore part of the state\n\nIt is possible to restore specific properties of the state using the `apiRef.current.restoreState()` method.\nFor instance, to only restore the pinned columns:\n\n```ts\napiRef.current.restoreState({\n  pinnedColumns: ['brand'],\n});\n```\n\n:::warning\nMost of the state keys are not fully independent.\n\nRestoring pagination without restoring filters or sorting will work, but the rows displayed after the re-import will not be the same as before the export.\n:::"
              ],
              "code_path": [
                null
              ],
              "children": []
            }
          ]
        }
      ]
    },
    {
      "name": "API",
      "introduction": [
        "API\n\n- [DataGrid](/x/api/data-grid/data-grid/)\n- [DataGridPro](/x/api/data-grid/data-grid-pro/)\n- [DataGridPremium](/x/api/data-grid/data-grid-premium/)"
      ],
      "code_path": [
        null
      ],
      "children": []
    }
  ]
}
{
  "name": "data-grid->prompt",
  "introduction": [
    "# Data Grid - Prompt [<span class=\"plan-premium\"></span>](/x/introduction/licensing/#premium-plan 'Premium plan')\n\n<p class=\"description\">Translate natural language into a set of grid state updates and apply them to the Data Grid component.</p>\n\n:::warning\nTo use this feature, you need to have a prompt processing backend. MUI offers this service as a part of a premium package add-on. Check [licensing page](/x/introduction/licensing/) for more information.\n:::\n\nThe prompt feature allows users to interact with the Data Grid component using natural language. The user can type commands like \"sort by name\" or \"show amounts larger than 1000\" in the prompt input field, and the Data Grid will update accordingly.\n\nTo increase the accuracy of the prompt processing, the user should provide example values for the available columns.\nThis can be done in following ways.\n\n:::info\nPrompt demos use a utility function `mockPromptResolver` to simulate the api that resolves the user prompts.\nIn a real-world scenario, you should replace this with your own api.\n\n`mockPromptResolver` can handle a predefined set of prompts:\n\n- `sort by name`\n- `sort by company name and employee name`\n- `show people from the EU`\n- `order companies by amount of people`\n\n  :::"
  ],
  "code_path": [
    null
  ],
  "children": [
    {
      "name": "Custom examples",
      "introduction": [
        "Custom examples\n\nThe user can provide custom examples for the prompt processing through the `unstable_examples` prop of the column in the `columns` array.\nThe `unstable_examples` prop should be an array of values that are possible values for that column."
      ],
      "code_path": [
        "PromptWithExamples.js"
      ],
      "children": []
    },
    {
      "name": "Use row data for examples",
      "introduction": [
        "Use row data for examples\n\nIf you pass `allowDataSampling` flag to the `Unstable_GridToolbarPromptControl`, it uses the row data to generate examples for the prompt processing.\nThis is useful if you are dealing with non-sensitive data and want to skip creating custom examples for each column."
      ],
      "code_path": [
        "PromptWithDataSampling.js"
      ],
      "children": []
    },
    {
      "name": "Using Server-side data",
      "introduction": [
        "Using Server-side data\n\nAn example of combining prompt toolbar with the [Server-side data](/x/react-data-grid/server-side-data/)"
      ],
      "code_path": [
        "PromptWithDataSource.js"
      ],
      "children": []
    },
    {
      "name": "Integration with MUI's API",
      "introduction": [
        "Integration with MUI's API\n\nTo integrate with MUI's API, an API key would be needed.\nAs the key cannot be exposed to the client, a small proxy server could be used that would receive prompt processing requests, add the `x-api-key` header, and pass the request further to the MUI's API.\n\nThis is an example of a Fastify proxy for the prompt requests\n\n```ts\nfastify.register(proxy, {\n  upstream: process.env.MUI_DATAGRID_API_URL,\n  prefix: '/api/datagrid/prompt',\n  rewritePrefix: '/api/v1/datagrid/prompt',\n  replyOptions: {\n    rewriteRequestHeaders: (_, headers) => ({\n      ...headers,\n      'x-api-key': process.env.MUI_DATAGRID_API_KEY,\n    }),\n  },\n});\n```\n\nTo make the integration easier, use the `unstable_gridDefaultPromptResolver` from `@mui/x-data-grid-premium` package.\nIt will add necessary headers and stringify the body in the right format for you.\n\nThe example below shows a code that adds an additional prompt context for better results and uses `unstable_gridDefaultPromptResolver` to avoid dealing with the request details.\n\n```ts\nconst PROMPT_RESOLVER_PROXY_BASE_URL =\n  process.env.NODE_ENV === 'development'\n    ? 'http://localhost:3000'\n    : 'https://api.my-proxy.com';\n\nfunction processPrompt(context: string, query: string) {\n  const extendedContext = `The rows represent: List of employees with their company, position and start date\\n\\n${context}`;\n\n  return unstable_gridDefaultPromptResolver(\n    `${PROMPT_RESOLVER_PROXY_BASE_URL}/api/datagrid/prompt`,\n    extendedContext,\n    query,\n  );\n}\n```"
      ],
      "code_path": [
        null
      ],
      "children": []
    }
  ]
}